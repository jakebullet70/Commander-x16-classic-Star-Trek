## --------------------------------------------------------------------
## BASLOAD ISO CRLF 
## Dad TESTING STUFF
## Dad TESTING STUFF
## Dad TESTING STUFF
## --------------------------------------------------------------------
#CONTROLCODES 1
#SYMFILE "@:TEST1.SYM"
## #SAVEAS "@:TEST1.PRG"

START:
	POKE $030C,4 : SYS $FF62 : REM --- CHANGE TO THIN PET UPPER/GRAPHICS
	GOSUB INIT_COLORS
	SCREEN $80 : CLS 
	
	GOTO MMNU_SHOW
	
END_PRG:
	END
	


MMNU_SHOW:
	IF MMNU_INIT = 0 THEN GOSUB MMNU_INIT_ITEMS : MMNU_SELECTED_NDX = 0 : MMNU_INIT = 1
	GOSUB MMNU_UPDATE_SCRN
	IF RET = 1 THEN LOCATE 1,28 : PRINT "M1" 
	IF RET = 2 THEN LOCATE 1,28 : PRINT "M2" 
	IF RET = 3 THEN LOCATE 1,28 : PRINT "QUIT" : END 
	GOTO MMNU_SHOW
	

MMNU_UPDATE_SCRN:
	REM ===== DISPLAY OPTIONS =====
	POKE 903,60  : REM --- CHANGES THE ROW SIZE SO THE LAST CHAR DOES NOT SCROLL THE SCREEN	
	
	COLOR CLR_TXT_NORMAL
	FOR M = 1 TO VMENUS_TTL
		LOCATE MMNU_Y_LOCATION(M),MMNU_X_LOCATION(M): PRINT MMNU_TEXT$(M) ;
	NEXT M
		
	REM SLEEP 2 : GOSUB KB_BUFFER_CLEAR
	IF MMNU_SELECTED_NDX<>0 THEN GOTO LINE10145MNU
	MMNU_SELECTED_NDX=1
	
LINE10130MNU:
	IF MMNU_SELECTED_NDX <= VMENUS_TTL THEN MMNU_SELECTED_NDX = MMNU_SELECTED_NDX+1: GOTO LINE10130MNU
	IF MMNU_SELECTED_NDX > VMENUS_TTL THEN MMNU_SELECTED_NDX = 1
	
LINE10145MNU:
	COLOR CLR_TXT_BRIGHT : LOCATE MMNU_Y_LOCATION(MMNU_SELECTED_NDX),MMNU_X_LOCATION(MMNU_SELECTED_NDX)
	PRINT CHR$($12) + MMNU_TEXT$(MMNU_SELECTED_NDX) 
	POKE 903,30  : REM --- PUT ROW SIZE BACK TO THE ORIGINAL

WAITKEY01MNU:
	GOSUB KB_KEYS_GET 
	LOCATE 1,1: REM PRINT "--> "; KB_ASC
	REM == KB_STR$ OR KB_ASC
	IF KB_ASC = 13  THEN RET = MMNU_RET_VAL(MMNU_SELECTED_NDX) : RETURN
	IF KB_ASC = 157 THEN MMNU_SELECTED_NDX=MMNU_SELECTED_NDX-1 	: IF MMNU_SELECTED_NDX = 0 THEN MMNU_SELECTED_NDX = VMENUS_TTL
	IF KB_ASC = 29  THEN MMNU_SELECTED_NDX=MMNU_SELECTED_NDX+1 	: IF MMNU_SELECTED_NDX > VMENUS_TTL THEN MMNU_SELECTED_NDX = 1
	IF KB_ASC = 27  THEN END_PRG
	GOTO MMNU_UPDATE_SCRN

		
MMNU_INIT_ITEMS:
	
	VMENUS_TTL=8 : DIM MMNU_X_LOCATION(VMENUS_TTL),MMNU_Y_LOCATION(VMENUS_TTL),MMNU_TEXT$(VMENUS_TTL),MMNU_RET_VAL(VMENUS_TTL)
	
	MMNU_X_LOCATION(1)= 1 : MMNU_Y_LOCATION(1)= 30 : MMNU_TEXT$(1)=" NAV "		:MMNU_RET_VAL(1) = 1
	MMNU_X_LOCATION(2)= 6 : MMNU_Y_LOCATION(2)= 30 : MMNU_TEXT$(2)=" SRS "		:MMNU_RET_VAL(2) = 2
	MMNU_X_LOCATION(3)=11 : MMNU_Y_LOCATION(3)= 30 : MMNU_TEXT$(3)=" LRS "		:MMNU_RET_VAL(3) = 3
	MMNU_X_LOCATION(4)=16 : MMNU_Y_LOCATION(4)= 30 : MMNU_TEXT$(4)=" PHA "		:MMNU_RET_VAL(4) = 4
	MMNU_X_LOCATION(5)=21 : MMNU_Y_LOCATION(5)= 30 : MMNU_TEXT$(5)=" TOR "		:MMNU_RET_VAL(5) = 5
	MMNU_X_LOCATION(6)=26 : MMNU_Y_LOCATION(6)= 30 : MMNU_TEXT$(6)=" SHE "		:MMNU_RET_VAL(6) = 6
	MMNU_X_LOCATION(7)=31 : MMNU_Y_LOCATION(7)= 30 : MMNU_TEXT$(7)=" COM "		:MMNU_RET_VAL(7) = 7
	MMNU_X_LOCATION(8)=36 : MMNU_Y_LOCATION(8)= 30 : MMNU_TEXT$(8)=" GXY "		:MMNU_RET_VAL(8) = 8

	RETURN



	
## ----------------  INCLUDE FILES HERE ----
REM #INCLUDE "SW-MENU.BAS"
#INCLUDE "\INCLUDE_SRC\KEYS-MOUSE.BL" 
#INCLUDE "\INCLUDE_SRC\COLORS.BL"



